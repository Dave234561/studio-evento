<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studio Evento - MVP</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Pages principales */
        .page {
            display: none;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            min-height: 80vh;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Header avec navigation */
        .header {
            background: rgba(255,255,255,0.95);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #4CAF50;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        .btn-secondary {
            background: transparent;
            color: #4CAF50;
            border: 2px solid #4CAF50;
        }

        .btn-warning {
            background: linear-gradient(135deg, #FF9800, #F57C00);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Hero section */
        .hero {
            text-align: center;
            margin-bottom: 40px;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #333;
        }

        .hero p {
            font-size: 1.3rem;
            color: #666;
            margin-bottom: 30px;
        }

        .demo-video {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border: 2px dashed #2196F3;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }

        /* Modules grid am√©lior√©s */
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .module-card {
            background: white;
            border: 3px solid #e9ecef;
            border-radius: 20px;
            padding: 30px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .module-card:hover {
            border-color: #4CAF50;
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .module-card.selected {
            border-color: #4CAF50;
            background: linear-gradient(135deg, #f8fff8, #f0f8f0);
            box-shadow: 0 15px 35px rgba(76, 175, 80, 0.2);
        }

        .module-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .module-icon {
            font-size: 3rem;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .module-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #333;
            margin: 0;
        }

        .module-subtitle {
            color: #666;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .module-value {
            background: linear-gradient(135deg, #e8f5e8, #f0f8f0);
            padding: 15px;
            border-radius: 12px;
            border-left: 4px solid #4CAF50;
            margin: 15px 0;
        }

        .module-value h5 {
            color: #2e7d32;
            margin: 0 0 8px 0;
            font-weight: bold;
        }

        .module-value p {
            color: #555;
            font-size: 0.9rem;
            line-height: 1.4;
            margin: 0;
        }

        .module-advantages {
            margin: 15px 0;
        }

        .module-advantages h6 {
            color: #333;
            font-weight: bold;
            margin: 0 0 10px 0;
            font-size: 0.9rem;
        }

        .advantage-item {
            display: flex;
            align-items: start;
            gap: 8px;
            margin-bottom: 8px;
            font-size: 0.85rem;
            color: #555;
        }

        .advantage-item .check {
            color: #4CAF50;
            font-weight: bold;
            margin-top: 1px;
        }

        .module-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-example {
            background: transparent;
            color: #4CAF50;
            border: 2px solid #4CAF50;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-example:hover {
            background: #4CAF50;
            color: white;
            transform: translateY(-2px);
        }

        .btn-select {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            flex-grow: 1;
        }

        .btn-select:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }

        /* Pricing cards am√©lior√©es */
        .pricing-card {
            background: white;
            border: 3px solid #e9ecef;
            border-radius: 20px;
            padding: 35px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
        }

        .pricing-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .pricing-card.popular {
            border-color: #4CAF50;
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(76, 175, 80, 0.2);
        }

        .pricing-card.popular::before {
            content: "‚≠ê POPULAIRE";
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: #4CAF50;
            color: white;
            padding: 6px 20px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .pricing-card.team {
            border-color: #FF9800;
            background: linear-gradient(135deg, #fff8e1, #ffecb3);
        }

        .pricing-card.team::before {
            content: "üë• √âQUIPE";
            background: #FF9800;
        }

        .price-container {
            margin: 20px 0;
        }

        .price {
            font-size: 3rem;
            font-weight: bold;
            color: #4CAF50;
            margin: 0;
            line-height: 1;
        }

        .price-annual {
            font-size: 2.2rem;
            color: #2e7d32;
        }

        .price-unit {
            color: #666;
            font-size: 1rem;
            margin-top: 5px;
        }

        .price-save {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-top: 8px;
            display: inline-block;
        }

        /* Nouvelles sections cr√©dibilit√© */
        .trust-metrics {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .metric-item {
            padding: 15px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .metric-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #4CAF50;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9rem;
            color: #666;
        }

        .logos-section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
        }

        .logos-grid {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            flex-wrap: wrap;
            margin: 15px 0;
            opacity: 0.7;
        }

        .client-logo {
            width: 80px;
            height: 40px;
            background: #f0f0f0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #666;
            font-size: 0.8rem;
        }

        .differentiator {
            background: linear-gradient(135deg, #e8f5e8, #f0f8f0);
            border-left: 5px solid #4CAF50;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .differentiator h4 {
            color: #2e7d32;
            margin-bottom: 10px;
        }

        .time-comparison {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .time-before, .time-after {
            padding: 15px 25px;
            border-radius: 12px;
            text-align: center;
            min-width: 150px;
        }

        .time-before {
            background: #ffebee;
            border: 2px solid #f44336;
        }

        .time-after {
            background: #e8f5e8;
            border: 2px solid #4CAF50;
        }

        .arrow {
            font-size: 1.5rem;
            color: #4CAF50;
            font-weight: bold;
        }

        .privacy-badge {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border: 2px solid #2196F3;
            padding: 15px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
        }

        .privacy-badge h5 {
            color: #1976d2;
            margin-bottom: 8px;
        }

        .fomo-alert {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            border-left: 5px solid #FF9800;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .email-gate {
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
            border: 3px solid #9c27b0;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }

        .email-form {
            display: flex;
            gap: 10px;
            max-width: 400px;
            margin: 15px auto;
        }

        .email-input {
            flex: 1;
            padding: 12px;
            border: 2px solid #9c27b0;
            border-radius: 8px;
            font-size: 1rem;
        }

        .email-submit {
            background: linear-gradient(135deg, #9c27b0, #7b1fa2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
        }

        .expert-service {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c8);
            border: 3px solid #4CAF50;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }

        /* Calculator ROI */
        .roi-calculator {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            border: 3px solid #FF9800;
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
            text-align: center;
        }

        .calculator-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }

        .input-group {
            text-align: left;
        }

        .input-label {
            font-weight: bold;
            color: #E65100;
            margin-bottom: 10px;
            display: block;
        }

        .slider-container {
            position: relative;
            margin: 15px 0;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #FF9800;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #FF9800;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .slider-value {
            background: #FF9800;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: bold;
            display: inline-block;
            margin-top: 8px;
        }

        .roi-result {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c8);
            border: 3px solid #4CAF50;
            padding: 25px;
            border-radius: 15px;
            margin-top: 25px;
        }

        .roi-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #2e7d32;
            margin: 10px 0;
        }

        .roi-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .roi-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .roi-item-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: #4CAF50;
        }

        .roi-item-label {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }

        /* Exit Intent Popup */
        .exit-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .exit-popup.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .popup-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
            margin: 20px;
            text-align: center;
            position: relative;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .popup-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
        }

        .popup-close:hover {
            color: #333;
        }

        .popup-title {
            font-size: 1.8rem;
            color: #d32f2f;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .popup-offer {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c8);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #4CAF50;
        }

        .popup-form {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }

        .popup-email {
            flex: 1;
            padding: 12px;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            font-size: 1rem;
        }

        .popup-submit {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            white-space: nowrap;
        }

        .popup-bonus {
            background: #fff3e0;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 4px solid #FF9800;
        }

        /* Social Proof en temps r√©el */
        .social-proof-notification {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border: 2px solid #4CAF50;
            border-radius: 12px;
            padding: 15px 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            z-index: 1002;
            max-width: 350px;
            transform: translateX(-400px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .social-proof-notification.show {
            transform: translateX(0);
        }

        .social-proof-notification:hover {
            transform: translateX(0) translateY(-2px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.2);
        }

        .notification-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .notification-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .notification-info {
            flex: 1;
        }

        .notification-name {
            font-weight: bold;
            color: #333;
            font-size: 0.9rem;
        }

        .notification-location {
            color: #666;
            font-size: 0.8rem;
        }

        .notification-action {
            color: #2e7d32;
            font-size: 0.9rem;
            line-height: 1.3;
            margin-bottom: 5px;
        }

        .notification-time {
            color: #999;
            font-size: 0.8rem;
            text-align: right;
        }

        .notification-close {
            position: absolute;
            top: 8px;
            right: 10px;
            background: none;
            border: none;
            color: #999;
            cursor: pointer;
            font-size: 1.1rem;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .notification-close:hover {
            color: #666;
        }

        .social-proof-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #4CAF50;
            border-radius: 50%;
            margin-right: 8px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* Responsive pour social proof */
        @media (max-width: 768px) {
            .social-proof-notification {
                bottom: 10px;
                left: 10px;
                right: 10px;
                max-width: none;
                transform: translateY(100px);
            }
            
            .social-proof-notification.show {
                transform: translateY(0);
            }
        }
        @media (max-width: 768px) {
            .calculator-inputs {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .roi-breakdown {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .popup-content {
                margin: 10px;
                padding: 25px;
            }
            
            .popup-form {
                flex-direction: column;
            }
            
            .roi-number {
                font-size: 2rem;
            }
        }
        @media (max-width: 768px) {
            .time-comparison {
                flex-direction: column;
            }
            
            .email-form {
                flex-direction: column;
            }
            
            .logos-grid {
                gap: 15px;
            }
            
            .client-logo {
                width: 60px;
                height: 30px;
                font-size: 0.7rem;
            }
        }
        @media (max-width: 768px) {
            .modules-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .module-card {
                padding: 25px;
            }
            
            .module-header {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
            
            .module-icon {
                font-size: 2.5rem;
            }
            
            .pricing-grid {
                grid-template-columns: 1fr;
            }
            
            .pricing-card.popular {
                transform: none;
            }
        }

        /* Form styles */
        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
        }

        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .smart-input {
            background: #f8f9fa;
            border: 3px dashed #4CAF50;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .smart-input:hover {
            background: #f0f8f0;
            border-color: #45a049;
        }

        .template-box {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-left: 5px solid #2196F3;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        /* Result preview */
        .result-container {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            position: relative;
            min-height: 400px;
        }

        .result-content {
            line-height: 1.6;
        }

        .blur-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(transparent, rgba(255,255,255,0.95));
            border-radius: 0 0 15px 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        /* Loading animation */
        .loading {
            text-align: center;
            padding: 40px;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #4CAF50;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Pricing cards */
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .pricing-card {
            background: white;
            border: 3px solid #e9ecef;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .pricing-card.recommended {
            border-color: #4CAF50;
            transform: scale(1.05);
        }

        .pricing-card.free {
            border-color: #28a745;
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
        }

        .price {
            font-size: 2.5rem;
            font-weight: bold;
            color: #4CAF50;
            margin: 15px 0;
        }

        .feature-list {
            list-style: none;
            text-align: left;
            margin: 20px 0;
        }

        .feature-list li {
            padding: 5px 0;
            position: relative;
            padding-left: 25px;
        }

        .feature-list li:before {
            content: "‚úÖ";
            position: absolute;
            left: 0;
        }

        /* Progress tracker */
        .progress-tracker {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 250px;
            z-index: 1000;
        }

        .progress-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .progress-icon {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .completed { background: #28a745; color: white; }
        .current { background: #ffc107; color: white; }
        .pending { background: #e9ecef; color: #666; }

        /* Dashboard */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .dashboard-main {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
        }

        .dashboard-sidebar {
            background: white;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #e9ecef;
        }

        .module-status {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            margin: 5px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .module-status:hover {
            background: #f8f9fa;
        }

        .status-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Payment methods */
        .payment-methods {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .payment-btn {
            background: #000;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .payment-btn:hover {
            transform: scale(1.05);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .progress-tracker {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .page {
                padding: 20px;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .modules-grid {
                grid-template-columns: 1fr;
            }
            
            .pricing-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
            }
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1001;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        /* Animation utilities */
        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        .slide-up {
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Styles pour l'authentification utilisateur */
        .auth-nav-btn {
            position: relative;
        }

        .user-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 8px 0;
            min-width: 160px;
            z-index: 1000;
        }

        .user-menu button {
            display: block;
            width: 100%;
            padding: 8px 16px;
            text-align: left;
            background: none;
            border: none;
            color: #374151;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .user-menu button:hover {
            background-color: #f3f4f6;
        }

        .btn-auth {
            background-color: #f3f4f6;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .btn-auth:hover {
            background-color: #e5e7eb;
        }
    </style>
</head>
<body>
    <!-- Header Navigation -->
    <div class="header">
        <div class="logo">üé¨ Studio Evento</div>
        <div class="nav-buttons">
            <button class="btn btn-secondary" onclick="showPage('home')">Accueil</button>
            <button class="btn btn-secondary" onclick="showPage('dashboard')" id="dashboardBtn" style="display: none;">Dashboard</button>
            <button class="btn btn-primary" onclick="startFreeTrial()">Essai Gratuit</button>
        </div>
    </div>

    <!-- Progress Tracker -->
    <div class="progress-tracker" id="progressTracker">
        <h4 style="margin-bottom: 15px;">üìä Progression</h4>
        <div class="progress-item">
            <div class="progress-icon completed">‚úì</div>
            <span>Accueil</span>
        </div>
        <div class="progress-item">
            <div class="progress-icon current" id="step2">2</div>
            <span>Module</span>
        </div>
        <div class="progress-item">
            <div class="progress-icon pending" id="step3">3</div>
            <span>Saisie</span>
        </div>
        <div class="progress-item">
            <div class="progress-icon pending" id="step4">4</div>
            <span>R√©sultat</span>
        </div>
        <div class="progress-item">
            <div class="progress-icon pending" id="step5">5</div>
            <span>Paiement</span>
        </div>
    </div>

    <div class="container">
        <!-- Page 1: Accueil avec essai gratuit -->
        <div class="page active" id="home">
            <div class="hero">
                <h1>üé¨ Concevez votre √©v√©nement personnalis√© en un temps record</h1>
                <p>L'IA donne des id√©es, <strong>Studio Evento livre du concret</strong></p>
                
                <!-- M√©triques de cr√©dibilit√© -->
                <div class="trust-metrics">
                    <h4 style="margin-bottom: 20px; color: #333;">üèÜ D√©j√† adopt√© par les professionnels</h4>
                    <div class="metrics-grid">
                        <div class="metric-item">
                            <div class="metric-number">1,247</div>
                            <div class="metric-label">√©v√©nements cr√©√©s</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-number">4.8/5</div>
                            <div class="metric-label">satisfaction client</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-number">14,000</div>
                            <div class="metric-label">lieux r√©f√©renc√©s</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-number">500+</div>
                            <div class="metric-label">professionnels actifs</div>
                        </div>
                    </div>
                    
                    <!-- Logos clients anonymis√©s -->
                    <div class="logos-section">
                        <p style="margin-bottom: 15px; color: #666; font-size: 0.9rem;">Utilis√© par :</p>
                        <div class="logos-grid">
                            <div class="client-logo">TECH‚òÖ‚òÖ‚òÖ</div>
                            <div class="client-logo">PHARMA+</div>
                            <div class="client-logo">FINANCE‚óÜ</div>
                            <div class="client-logo">CONSEIL‚ñ≤</div>
                            <div class="client-logo">START‚óèUP</div>
                            <div class="client-logo">EVENTS‚ñ†</div>
                        </div>
                    </div>
                </div>

                <!-- Diff√©renciation -->
                <div class="differentiator">
                    <h4>üíé Notre diff√©rence unique</h4>
                    <p><strong>Base de donn√©es propri√©taire :</strong> 14,000 lieux r√©f√©renc√©s avec tarifs temps r√©el</p>
                    <p><strong>Benchmark automatique :</strong> Votre budget vs 500 √©v√©nements similaires</p>
                    <p><strong>Donn√©es natives RGPD :</strong> Vos donn√©es effac√©es apr√®s traitement</p>
                </div>

                <!-- Comparaison temps -->
                <div class="time-comparison">
                    <div class="time-before">
                        <div style="font-size: 1.2rem; color: #d32f2f; font-weight: bold;">15h</div>
                        <div style="font-size: 0.9rem;">Pr√©paration manuelle</div>
                    </div>
                    <div class="arrow">‚Üí</div>
                    <div class="time-after">
                        <div style="font-size: 1.2rem; color: #388e3c; font-weight: bold;">30min</div>
                        <div style="font-size: 0.9rem;">Avec Studio Evento</div>
                    </div>
                </div>

                <!-- FOMO professionnel -->
                <div class="fomo-alert">
                    <p><strong>üî• Rejoignez 500+ event managers qui √©conomisent d√©j√†</strong></p>
                    <p style="font-size: 0.9rem; margin-top: 8px;">Derni√®re inscription il y a 23 minutes</p>
                </div>

                <!-- Calculator ROI -->
                <div class="roi-calculator">
                    <h3 style="color: #E65100; margin-bottom: 20px;">üßÆ Calculez vos √©conomies en 10 secondes</h3>
                    <p style="margin-bottom: 25px; color: #666;">D√©couvrez combien Studio Evento vous fait √©conomiser par an</p>
                    
                    <div class="calculator-inputs">
                        <div class="input-group">
                            <label class="input-label">Nombre d'√©v√©nements par an</label>
                            <div class="slider-container">
                                <input type="range" class="slider" id="eventsSlider" min="1" max="50" value="6" oninput="updateCalculator()">
                                <div class="slider-value" id="eventsValue">6 √©v√©nements</div>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label class="input-label">Temps de pr√©paration par √©v√©nement</label>
                            <div class="slider-container">
                                <input type="range" class="slider" id="timeSlider" min="5" max="40" value="15" oninput="updateCalculator()">
                                <div class="slider-value" id="timeValue">15 heures</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="roi-result" id="roiResult">
                        <h4 style="color: #2e7d32; margin-bottom: 15px;">üí∞ Vos √©conomies annuelles avec Studio Evento</h4>
                        <div class="roi-number" id="savingsTotal">8 450‚Ç¨</div>
                        
                        <div class="roi-breakdown">
                            <div class="roi-item">
                                <div class="roi-item-value" id="timeSaved">75h</div>
                                <div class="roi-item-label">temps √©conomis√©</div>
                            </div>
                            <div class="roi-item">
                                <div class="roi-item-value" id="costSaved">7 500‚Ç¨</div>
                                <div class="roi-item-label">valeur temps</div>
                            </div>
                            <div class="roi-item">
                                <div class="roi-item-value" id="budgetSaved">950‚Ç¨</div>
                                <div class="roi-item-label">√©conomies budget</div>
                            </div>
                            <div class="roi-item">
                                <div class="roi-item-value">380%</div>
                                <div class="roi-item-label">ROI moyen</div>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" style="margin-top: 20px; font-size: 1.1rem;" onclick="startFreeTrial()">
                            üöÄ Commencer √† √©conomiser maintenant !
                        </button>
                    </div>
                </div>
                
                <div class="demo-video">
                    <h3>üé• D√©couvrez la puissance de notre IA</h3>
                    <p style="margin: 15px 0;"><strong>Exemple concret :</strong> "S√©minaire commercial 80 personnes" ‚Üí IA g√©n√®re lieu, budget, planning en 2 minutes</p>
                    <div style="background: rgba(255,255,255,0.7); padding: 15px; border-radius: 10px; margin: 15px 0;">
                        <strong>üíé Valeur unique :</strong> Notre IA analyse votre contexte et g√©n√®re des recommandations personnalis√©es avec contacts directs, comparatifs d√©taill√©s et exports professionnels
                    </div>
                    <div style="background: rgba(255,255,255,0.7); padding: 15px; border-radius: 10px; margin: 15px 0;">
                        <strong>T√©moignage client :</strong> "J'ai √©conomis√© 15 heures de pr√©paration pour mon dernier s√©minaire !" - Marie, DRH chez TechCorp
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
                        <div style="text-align: center; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 10px;">
                            <div style="font-size: 1.5rem; color: #4CAF50; font-weight: bold;">9 modules</div>
                            <div style="font-size: 0.9rem; color: #666;">sp√©cialis√©s</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 10px;">
                            <div style="font-size: 1.5rem; color: #4CAF50; font-weight: bold;">2 minutes</div>
                            <div style="font-size: 0.9rem; color: #666;">de g√©n√©ration</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 10px;">
                            <div style="font-size: 1.5rem; color: #4CAF50; font-weight: bold;">PDF pro</div>
                            <div style="font-size: 0.9rem; color: #666;">exportable</div>
                        </div>
                    </div>
                </div>

                <div style="margin: 40px 0;">
                    <button class="btn btn-primary" style="font-size: 1.4rem; padding: 20px 40px;" onclick="startFreeTrial()">
                        üéÅ TESTER GRATUITEMENT (1 module au choix)
                    </button>
                    <br><br>
                    <button class="btn btn-secondary" onclick="showOnboarding()">
                        üí° Je d√©couvre comment √ßa marche
                    </button>
                </div>

                <!-- Badge RGPD -->
                <div class="privacy-badge">
                    <h5>üîí DONN√âES NATIVES - SOLUTION 100% RGPD</h5>
                    <p style="font-size: 0.9rem; margin: 0;">Vos donn√©es ne sont pas partag√©es et effac√©es directement apr√®s votre requ√™te</p>
                </div>

                <div style="background: rgba(40, 167, 69, 0.1); padding: 20px; border-radius: 15px; border-left: 5px solid #28a745;">
                    ‚úÖ Aucune carte bancaire requise ‚Ä¢ ‚úÖ Test imm√©diat ‚Ä¢ ‚úÖ R√©sultat en 2 minutes
                </div>
            </div>
        </div>

        <!-- Page 2: Onboarding "Comment √ßa marche" -->
        <div class="page" id="onboarding">
            <div style="text-align: center; margin-bottom: 40px;">
                <h2>üß≠ Comment √ßa marche ? Laissez-vous guider</h2>
                <p>Un processus simple en 4 √©tapes pour cr√©er votre √©v√©nement parfait</p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin: 40px 0;">
                <div style="text-align: center; padding: 30px; background: white; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <div style="font-size: 3rem; margin-bottom: 20px;">1Ô∏è‚É£</div>
                    <h3>Choisissez votre d√©fi</h3>
                    <p style="color: #666; margin-top: 10px;">9 modules selon vos besoins sp√©cifiques</p>
                </div>
                <div style="text-align: center; padding: 30px; background: white; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <div style="font-size: 3rem; margin-bottom: 20px;">2Ô∏è‚É£</div>
                    <h3>D√©crivez votre projet</h3>
                    <p style="color: #666; margin-top: 10px;">Texte libre ou document, nous nous adaptons</p>
                </div>
                <div style="text-align: center; padding: 30px; background: white; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <div style="font-size: 3rem; margin-bottom: 20px;">3Ô∏è‚É£</div>
                    <h3>L'IA g√©n√®re</h3>
                    <p style="color: #666; margin-top: 10px;">R√©sultat personnalis√© en moins de 2 minutes</p>
                </div>
                <div style="text-align: center; padding: 30px; background: white; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <div style="font-size: 3rem; margin-bottom: 20px;">4Ô∏è‚É£</div>
                    <h3>Testez gratuitement</h3>
                    <p style="color: #666; margin-top: 10px;">Puis achetez seulement si convaincu</p>
                </div>
            </div>

            <div style="text-align: center; margin-top: 40px;">
                <button class="btn btn-primary" style="font-size: 1.2rem; padding: 15px 30px;" onclick="showModuleSelection()">
                    üöÄ Commencer maintenant
                </button>
                <br><br>
                <button class="btn btn-secondary" onclick="showPage('home')">
                    ‚Üê Retour √† l'accueil
                </button>
            </div>
        </div>

        <!-- Page 3: S√©lection du module -->
        <div class="page" id="moduleSelection">
            <div style="text-align: center; margin-bottom: 40px;">
                <h2>üéØ Quel est votre principal d√©fi pour cet √©v√©nement ?</h2>
                <p>Choisissez le module qui correspond le mieux √† vos besoins</p>
            </div>

            <div class="modules-grid" id="modulesGrid">
                <!-- Les modules seront g√©n√©r√©s dynamiquement par JavaScript -->
            </div>

            <div style="text-align: center; margin-top: 40px; font-style: italic; color: #666;">
                "Pas de souci, nous cr√©erons les autres √©l√©ments ensemble ensuite !"
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="showPage('home')">‚Üê Retour √† l'accueil</button>
            </div>
        </div>

        <!-- Page 4: Saisie du projet -->
        <div class="page" id="projectInput">
            <div style="margin-bottom: 30px;">
                <h2><span id="selectedModuleTitle">Votre module</span></h2>
                <p>D√©crivez votre √©v√©nement pour obtenir un r√©sultat personnalis√©</p>
            </div>

            <div class="smart-input" onclick="focusTextarea()">
                <h3>üìã D√©crivez votre √©v√©nement (ou) glissez votre document ici</h3>
                <p style="color: #666; margin: 15px 0;">
                    üí° Plus vous donnez de d√©tails, plus le r√©sultat sera pr√©cis<br>
                    üìé Le d√©p√¥t de document permet une analyse <strong>plus personnalis√©e</strong>
                </p>
                <textarea id="projectDescription" 
                         placeholder="Ex: S√©minaire commercial 2 jours, 80 personnes, Lyon, budget 25k‚Ç¨..." 
                         style="width: 100%; height: 120px; border: 2px dashed #ccc; border-radius: 10px; padding: 15px; font-size: 1rem; margin-top: 15px; resize: vertical;"></textarea>
                <div style="margin-top: 15px;">
                    <input type="file" id="fileUpload" style="display: none;" accept=".pdf,.doc,.docx,.txt" onchange="handleFileUpload()">
                    <button class="btn btn-secondary" onclick="document.getElementById('fileUpload').click()">
                        üìé Ou d√©poser un document
                    </button>
                    <span id="fileName" style="margin-left: 10px; color: #28a745; font-weight: bold;"></span>
                </div>
            </div>

            <div class="template-box">
                <h4>üí° Besoin d'inspiration ? Utilisez ce template :</h4>
                <p><strong>Type d'√©v√©nement :</strong> [S√©minaire / Soir√©e / Conf√©rence / ...]</p>
                <p><strong>Nombre de participants :</strong> [50-100 / 100-250 / 250+ personnes]</p>
                <p><strong>Lieu souhait√© :</strong> [Ville / R√©gion / √Ä d√©terminer]</p>
                <p><strong>Budget approximatif :</strong> [5-15k‚Ç¨ / 15-50k‚Ç¨ / 50k‚Ç¨+ / √Ä d√©finir]</p>
                <p><strong>Objectifs sp√©cifiques :</strong> [Formation / Team building / Lancement produit / ...]</p>
                <button class="btn btn-secondary" onclick="useTemplate()">‚ú® Utiliser ce template</button>
                <button class="btn btn-primary" onclick="generateResult()">üîÆ Analyser avec l'IA</button>
            </div>

            <div style="background: rgba(40, 167, 69, 0.1); padding: 15px; border-radius: 10px; border-left: 5px solid #28a745; margin-top: 20px;">
                üíæ Votre progression est automatiquement sauvegard√©e (m√™me en mode invit√©)
            </div>
        </div>

        <!-- Page 5: G√©n√©ration et r√©sultat -->
        <div class="page" id="result">
            <div id="loadingSection" class="loading">
                <div class="loading-spinner"></div>
                <h3>üîÆ L'IA Studio Evento analyse votre projet...</h3>
                <p>‚ö° Cr√©ation de votre <span id="loadingModuleName">module</span> personnalis√©...</p>
                <p style="color: #666; margin-top: 15px;">Analyse en cours... Cela prend g√©n√©ralement 30-60 secondes</p>
            </div>

            <div id="resultSection" style="display: none;">
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2>‚úÖ Voici votre aper√ßu <span id="resultModuleName">module</span> !</h2>
                    <p>R√©sultat personnalis√© bas√© sur vos informations</p>
                </div>

                <div class="result-container">
                    <div class="result-content" id="resultContent">
                        <!-- Contenu g√©n√©r√© dynamiquement -->
                    </div>
                    
                    <!-- Email gate pour d√©bloquer -->
                    <div class="email-gate" id="emailGate">
                        <h4 style="color: #7b1fa2; margin-bottom: 15px;">üîì D√©bloquez votre r√©sultat complet</h4>
                        <p style="margin-bottom: 15px;">Recevez le rapport PDF + contacts prestataires + benchmark budg√©taire</p>
                        <form class="email-form" onsubmit="return submitEmail(event)">
                            <input type="email" id="userEmail" class="email-input" placeholder="votre.email@entreprise.com" required>
                            <button type="submit" class="email-submit">üöÄ D√©bloquer</button>
                        </form>
                        <p style="font-size: 0.8rem; color: #666; margin-top: 10px;">
                            ‚úÖ Pas de spam ‚Ä¢ ‚úÖ Donn√©es effac√©es apr√®s envoi ‚Ä¢ ‚úÖ D√©sinscription en 1 clic
                        </p>
                    </div>
                </div>

                <!-- Pricing complet -->
                <div id="pricingSection" style="display: none;">
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h3>üíé Choisissez votre formule</h3>
                        <p>Toutes les formules incluent la g√©n√©ration IA, exports PDF et support technique</p>
                        <div style="margin: 20px 0;">
                            <label style="display: inline-flex; align-items: center; gap: 10px; background: #f8f9fa; padding: 10px 20px; border-radius: 25px;">
                                <input type="checkbox" id="annualToggle" onchange="toggleAnnualPricing()" style="transform: scale(1.2);">
                                <span style="font-weight: bold;">üí∞ Paiement annuel (-20%)</span>
                            </label>
                        </div>
                    </div>
                    
                    <div id="pricingGrid" class="pricing-grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px;">
                        <!-- Les cartes de pricing seront g√©n√©r√©es dynamiquement -->
                    </div>

                    <div style="text-align: center; margin: 30px 0;">
                        <p style="font-style: italic; color: #666;">
                            üí° <strong>Essayez gratuitement, payez seulement si satisfait</strong>
                        </p>
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 15px; border-radius: 10px; margin: 20px 0;">
                            <p><strong>üéÅ Garantie satisfait ou rembours√© 30 jours</strong></p>
                            <p style="font-size: 0.9rem; margin-top: 5px;">R√©siliez √† tout moment, sans frais cach√©s</p>
                        </div>
                    </div>

                    <div class="payment-methods">
                        <button class="payment-btn" style="background: #000;">üçé Apple Pay</button>
                        <button class="payment-btn" style="background: #4285f4;">G Pay</button>
                        <button class="payment-btn" style="background: #635bff;">üí≥ Stripe</button>
                        <button class="payment-btn" style="background: #ff5722;">‚òï PayPal</button>
                    </div>

                    <!-- Service expert -->
                    <div class="expert-service">
                        <h4 style="color: #2e7d32; margin-bottom: 15px;">üë®‚Äçüíº Besoin d'aide suppl√©mentaire ?</h4>
                        <p style="margin-bottom: 15px;"><strong>√âtude personnalis√©e par nos experts</strong></p>
                        <p style="margin-bottom: 15px;">Analyse approfondie de votre projet + recommandations sur-mesure + call strat√©gique 30min</p>
                        <button class="btn btn-primary" onclick="contactExpert()" style="margin-bottom: 10px;">
                            üìû Contactez-nous - C'est gratuit !
                        </button>
                        <p style="font-size: 0.8rem; color: #666;">R√©ponse sous 24h ‚Ä¢ Sans engagement</p>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-secondary" onclick="showProjectInput()">‚Üê Modifier ma description</button>
                    <button class="btn btn-secondary" onclick="showModuleSelection()">üîÑ Changer de module</button>
                </div>
            </div>
        </div>

        <!-- Page 6: Dashboard utilisateur -->
        <div class="page" id="dashboard">
            <div style="margin-bottom: 30px;">
                <h2>üéØ Votre Dashboard Studio Evento</h2>
                <p>G√©rez tous vos projets √©v√©nementiels en un seul endroit</p>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-main">
                    <div style="background: white; padding: 25px; border-radius: 15px; margin-bottom: 20px;">
                        <h3>üìã Votre √©v√©nement : <span id="currentProjectName">S√©minaire Commercial Lyon</span></h3>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin: 15px 0;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                <span><strong>Progression globale</strong></span>
                                <span id="progressPercentage">33%</span>
                            </div>
                            <div style="background: #e9ecef; border-radius: 10px; height: 10px; overflow: hidden;">
                                <div style="background: linear-gradient(135deg, #4CAF50, #45a049); height: 100%; width: 33%; transition: width 0.3s ease;"></div>
                            </div>
                        </div>
                        <p>üí∞ Budget utilis√© : <span id="budgetUsed">27‚Ç¨</span> / Budget projet estim√© : <span id="totalBudget">25 000‚Ç¨</span></p>
                    </div>

                    <div style="background: white; padding: 25px; border-radius: 15px;">
                        <h4>üöÄ Actions rapides</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
                            <button class="btn btn-primary" onclick="generateFinalDocument()">üìÑ G√©n√©rer document final</button>
                            <button class="btn btn-secondary" onclick="duplicateProject()">üìã Dupliquer projet</button>
                            <button class="btn btn-secondary" onclick="shareProject()">üë• Partager avec √©quipe</button>
                            <button class="btn btn-secondary" onclick="showAnalytics()">üìä Voir analytics</button>
                        </div>
                    </div>
                </div>

                <div class="dashboard-sidebar">
                    <h4 style="margin-bottom: 20px;">üìä Statut des modules</h4>
                    
                    <div class="module-status" onclick="openModule('cahier-charges')">
                        <div class="status-icon completed">‚úì</div>
                        <div>
                            <div style="font-weight: bold;">Cahier des charges</div>
                            <div style="font-size: 0.8rem; color: #666;">Compl√©t√©</div>
                        </div>
                    </div>

                    <div class="module-status" onclick="openModule('lieu')">
                        <div class="status-icon completed">‚úì</div>
                        <div>
                            <div style="font-weight: bold;">Lieu & Logistique</div>
                            <div style="font-size: 0.8rem; color: #666;">Compl√©t√©</div>
                        </div>
                    </div>

                    <div class="module-status" onclick="openModule('budget')">
                        <div class="status-icon completed">‚úì</div>
                        <div>
                            <div style="font-weight: bold;">Optimisation Budget</div>
                            <div style="font-size: 0.8rem; color: #666;">Compl√©t√©</div>
                        </div>
                    </div>

                    <div class="module-status" onclick="openModule('animation')">
                        <div class="status-icon current">‚è≥</div>
                        <div>
                            <div style="font-weight: bold;">Animation</div>
                            <div style="font-size: 0.8rem; color: #ffc107;">En attente</div>
                        </div>
                    </div>

                    <div class="module-status" onclick="showModuleRecommendations()">
                        <div class="status-icon pending">+</div>
                        <div>
                            <div style="font-weight: bold;">5 autres modules</div>
                            <div style="font-size: 0.8rem; color: #666;">Recommand√©s</div>
                        </div>
                    </div>

                    <div style="background: #fff3cd; padding: 15px; border-radius: 10px; margin-top: 20px; border: 2px solid #ffc107;">
                        <h5>üéÅ Recommandations</h5>
                        <p style="font-size: 0.9rem; margin: 10px 0;">Pour votre s√©minaire Lyon, ajoutez :</p>
                        <button class="btn btn-secondary" style="width: 100%; margin: 5px 0; font-size: 0.9rem;" onclick="addModule('risques')">
                            ‚ö†Ô∏è G√©rer les risques (+9‚Ç¨)
                        </button>
                        <button class="btn btn-secondary" style="width: 100%; margin: 5px 0; font-size: 0.9rem;" onclick="addModule('rse')">
                            üå± Impact RSE (+9‚Ç¨)
                        </button>
                        <hr style="margin: 15px 0;">
                        <button class="btn btn-warning" style="width: 100%; font-size: 0.9rem;" onclick="upgradeToAll()">
                            üöÄ Pack 3 modules 25‚Ç¨/mois
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page 7: Exemples de modules -->
        <div class="page" id="examples">
            <div style="margin-bottom: 30px;">
                <h2>üí° Exemple de r√©sultat : <span id="exampleModuleTitle">Module</span></h2>
                <p>D√©couvrez la qualit√© de nos analyses IA</p>
            </div>

            <div style="background: white; padding: 30px; border-radius: 15px; border: 2px solid #4CAF50;">
                <div id="exampleContent">
                    <!-- Contenu d'exemple dynamique -->
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-primary" onclick="startWithThisModule()">üöÄ Utiliser ce module</button>
                <button class="btn btn-secondary" onclick="showModuleSelection()">‚Üê Voir tous les modules</button>
            </div>
        </div>
    </div>

    <!-- Notification toast -->
    <div class="notification" id="notification">
        <span id="notificationText">Message</span>
    </div>

    <!-- Social Proof Notification -->
    <div class="social-proof-notification" id="socialProofNotification">
        <button class="notification-close" onclick="closeSocialProof()">&times;</button>
        <div class="notification-header">
            <div class="notification-avatar" id="notificationAvatar">M</div>
            <div class="notification-info">
                <div class="notification-name" id="notificationName">Marie</div>
                <div class="notification-location" id="notificationLocation">Lyon</div>
            </div>
        </div>
        <div class="notification-action" id="notificationAction">
            <span class="social-proof-indicator"></span>
            vient de g√©n√©rer son cahier des charges
        </div>
        <div class="notification-time" id="notificationTime">Il y a 2 minutes</div>
    </div>

    <!-- Exit Intent Popup -->
    <div class="exit-popup" id="exitPopup">
        <div class="popup-content">
            <button class="popup-close" onclick="closeExitPopup()">&times;</button>
            
            <div class="popup-title">üö® Attendez ! Avant de partir...</div>
            
            <div class="popup-offer">
                <h4 style="color: #2e7d32; margin-bottom: 15px;">üéÅ OFFRE EXCLUSIVE</h4>
                <p style="margin-bottom: 10px;"><strong>Recevez GRATUITEMENT notre guide</strong></p>
                <p style="color: #666;">"50 erreurs √©v√©nementielles qui co√ªtent cher + checklist ultime"</p>
            </div>
            
            <form class="popup-form" onsubmit="return submitExitEmail(event)">
                <input type="email" id="exitEmail" class="popup-email" placeholder="votre.email@entreprise.com" required>
                <button type="submit" class="popup-submit">üì• T√©l√©charger</button>
            </form>
            
            <div class="popup-bonus">
                <p style="margin: 0; font-size: 0.9rem;"><strong>BONUS :</strong> Acc√®s prioritaire √† nos prochaines fonctionnalit√©s + 30% de r√©duction sur votre premier achat</p>
            </div>
            
            <p style="font-size: 0.8rem; color: #999; margin-top: 15px;">
                ‚úÖ Pas de spam ‚Ä¢ ‚úÖ D√©sinscription en 1 clic ‚Ä¢ ‚úÖ 4,247 t√©l√©chargements ce mois
            </p>
        </div>
    </div>

    <script>
        // Donn√©es des modules avec valeur ajout√©e
        const modulesData = [
            {
                "id": "cahier_des_charges",
                "titre": "Cahier des charges",
                "icon": "üéØ",
                "challenge": "Je ne sais pas par o√π commencer",
                "valeur_ajoutee": "G√©n√©ration rapide d'un brief √©v√©nementiel professionnel, exhaustif et structur√©, m√™me √† partir d'une simple description ou d'un document existant.",
                "avantages": [
                    "Guidage m√™me pour les n√©ophytes",
                    "Parfait pour l'externalisation ou la collaboration",
                    "Prise en compte automatique des contraintes"
                ],
                "livrables": [
                    "PDF structur√©",
                    "Version modifiable dans l'outil"
                ]
            },
            {
                "id": "recherche_lieux",
                "titre": "Recherche de lieux",
                "icon": "üè¢",
                "challenge": "Trouver le lieu parfait",
                "valeur_ajoutee": "S√©lection personnalis√©e de lieux pertinents selon crit√®res, avec comparatif et liens cliquables.",
                "avantages": [
                    "Comparatif instantan√©",
                    "Liens directs et benchmarking",
                    "Bloc recommandations pour la suite"
                ],
                "livrables": [
                    "Tableau synth√©tique (web, PDF, Excel)",
                    "Liens cliquables",
                    "PDF √©l√©gant avec call-to-action"
                ]
            },
            {
                "id": "recherche_animations",
                "titre": "Recherche d'animations",
                "icon": "üé≠",
                "challenge": "Animation originale et adapt√©e",
                "valeur_ajoutee": "Propose des animations parfaitement adapt√©es √† la cible et aux objectifs, avec scoring et recommandations IA.",
                "avantages": [
                    "Scoring objectif",
                    "Recommandation finale IA",
                    "Liens vers fiches ou d√©mos prestataires"
                ],
                "livrables": [
                    "Tableau tri√©, scoring, prix",
                    "Bloc recommandation IA",
                    "Export PDF et Excel"
                ]
            },
            {
                "id": "creation_concept",
                "titre": "Cr√©ation de concept",
                "icon": "üí°",
                "challenge": "Concept unique et personnalis√©",
                "valeur_ajoutee": "G√©n√®re plusieurs concepts √©v√©nementiels originaux et diff√©renciants, avec storytelling int√©gr√©.",
                "avantages": [
                    "Diff√©renciation imm√©diate",
                    "Pr√©sentation synth√©tique pr√™te √† pitcher",
                    "Lien direct vers la cr√©ation graphique"
                ],
                "livrables": [
                    "Fiche concept (PDF)",
                    "Propositions synth√©tiques"
                ]
            },
            {
                "id": "charte_graphique",
                "titre": "Cr√©ation de charte graphique",
                "icon": "üé®",
                "challenge": "Cr√©er une identit√© visuelle",
                "valeur_ajoutee": "G√©n√©ration d'une identit√© visuelle coh√©rente, adapt√©e au concept, pr√™te √† d√©cliner sur tous les supports.",
                "avantages": [
                    "Rapidit√© et coh√©rence",
                    "D√©clinaisons pr√™tes √† l'emploi (invitations, kak√©monos, etc.)",
                    "Visuels exportables"
                ],
                "livrables": [
                    "PDF et images (moodboard, d√©clinaisons)",
                    "Palette couleurs, typos"
                ]
            },
            {
                "id": "reduction_carbone",
                "titre": "R√©duction d'impact carbone",
                "icon": "üå±",
                "challenge": "R√©duire impact environnemental",
                "valeur_ajoutee": "Estimation pr√©cise de l'empreinte carbone, plan d'action IA, et positionnement par rapport au march√©.",
                "avantages": [
                    "Benchmarks concrets",
                    "Outils pros recommand√©s",
                    "Synth√®se p√©dagogique"
                ],
                "livrables": [
                    "Tableau poste par poste",
                    "Comparatif sectoriel",
                    "Liens outils",
                    "Synth√®se exportable"
                ]
            },
            {
                "id": "mesure_roi",
                "titre": "Mesure du ROI",
                "icon": "üìä",
                "challenge": "Prouver le ROI",
                "valeur_ajoutee": "Calcul automatique d'un score ROI personnalis√©, visualisation graphique, outils recommand√©s.",
                "avantages": [
                    "Visualisation graphique (note, smiley, barre)",
                    "Outils recommand√©s",
                    "Rapport p√©dagogique"
                ],
                "livrables": [
                    "Rapport ROI complet (PDF, Excel)",
                    "Score graphique",
                    "Bloc outils recommand√©s"
                ]
            },
            {
                "id": "gestion_risques",
                "titre": "Gestion des risques",
                "icon": "‚ö†Ô∏è",
                "challenge": "Anticiper les probl√®mes",
                "valeur_ajoutee": "Plan de gestion des risques structur√©, prioris√©, et visualis√© en heatmap.",
                "avantages": [
                    "Identification exhaustive",
                    "Recommandations IA de mitigation",
                    "Visualisation avanc√©e (heatmap, tableau, Excel)"
                ],
                "livrables": [
                    "Tableau prioris√© (web, PDF, Excel)",
                    "Heatmap couleur",
                    "Fichier Excel"
                ]
            },
            {
                "id": "optimisation_budget",
                "titre": "Optimisation du budget",
                "icon": "üí∞",
                "challenge": "Respecter votre budget",
                "valeur_ajoutee": "Analyse, benchmarking, sc√©narios alternatifs, et simulateur interactif du budget √©v√©nementiel.",
                "avantages": [
                    "Modification √† la vol√©e",
                    "Visualisation graphique (camembert/bars)",
                    "Export Excel, CSV, PDF"
                ],
                "livrables": [
                    "Tableau dynamique",
                    "Graphique camembert",
                    "Rapport sc√©narios, benchmarks, exports"
                ]
            }
        ];

        // Nouveau mod√®le de pricing complet
        const pricingPlans = {
            moduleUnique: {
                name: "Module unique",
                price: 9,
                unit: "par utilisation",
                features: ["1 module au choix", "R√©sultat complet", "Export PDF", "Support email"],
                popular: false
            },
            pack3: {
                name: "Pack 3 modules",
                price: 25,
                unit: "par mois",
                annualPrice: 20,
                features: ["3 modules inclus", "Usage illimit√©", "Dashboard complet", "Support prioritaire"],
                popular: false
            },
            pack6: {
                name: "Pack 6 modules",
                price: 45,
                unit: "par mois",
                annualPrice: 36,
                features: ["6 modules inclus", "Usage illimit√©", "Analytics avanc√©es", "Templates premium"],
                popular: true
            },
            pack9: {
                name: "Pack 9 modules",
                price: 64,
                unit: "par mois",
                annualPrice: 51,
                features: ["Tous les 9 modules", "Usage illimit√©", "White-labeling", "Support d√©di√©"],
                popular: false
            },
            equipe3: {
                name: "√âquipe 3 personnes",
                price: 159,
                unit: "par mois",
                annualPrice: 127,
                features: ["9 modules illimit√©s", "3 utilisateurs", "Collaboration temps r√©el", "Gestion de projets"],
                popular: false
            },
            equipe5: {
                name: "√âquipe 5 personnes",
                price: 229,
                unit: "par mois",
                annualPrice: 183,
                features: ["9 modules illimit√©s", "5 utilisateurs", "Workflow avanc√©", "Analytics √©quipe"],
                popular: false
            },
            equipe10: {
                name: "√âquipe 10 personnes",
                price: 399,
                unit: "par mois",
                annualPrice: 319,
                features: ["9 modules illimit√©s", "10 utilisateurs", "API access", "Formation incluse"],
                popular: false
            },
            equipe10plus: {
                name: "√âquipe +10 personnes",
                price: 549,
                unit: "par mois",
                annualPrice: 439,
                features: ["9 modules illimit√©s", "Utilisateurs illimit√©s", "Support 24/7", "CSM d√©di√©"],
                popular: false
            }
        };

        // √âtat de l'application
        let appState = {
            currentPage: 'home',
            selectedModule: null,
            userProject: {
                description: '',
                document: null,
                results: {},
                completedModules: ['cahier-charges', 'lieu', 'budget'],
                currentModule: null
            },
            user: {
                hasAccount: false,
                isPremium: false,
                trialUsed: false
            }
        };

        // G√©n√©rer les modules dynamiquement
        function generateModulesGrid() {
            const grid = document.getElementById('modulesGrid');
            grid.innerHTML = '';
            
            modulesData.forEach(module => {
                const moduleCard = document.createElement('div');
                moduleCard.className = 'module-card';
                moduleCard.onclick = () => selectModule(module.id, module.icon, module.challenge, module.titre);
                
                moduleCard.innerHTML = `
                    <div class="module-header">
                        <div class="module-icon">${module.icon}</div>
                        <div>
                            <h3 class="module-title">${module.challenge}</h3>
                            <p class="module-subtitle">MODULE : ${module.titre}</p>
                        </div>
                    </div>
                    
                    <div class="module-value">
                        <h5>üíé Valeur ajout√©e</h5>
                        <p>${module.valeur_ajoutee}</p>
                    </div>
                    
                    <div class="module-advantages">
                        <h6>‚ú® Avantages cl√©s :</h6>
                        ${module.avantages.map(avantage => `
                            <div class="advantage-item">
                                <span class="check">‚úì</span>
                                <span>${avantage}</span>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="module-advantages">
                        <h6>üìã Livrables :</h6>
                        ${module.livrables.map(livrable => `
                            <div class="advantage-item">
                                <span class="check">üìÑ</span>
                                <span>${livrable}</span>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="module-actions">
                        <button class="btn-example" onclick="event.stopPropagation(); showExample('${module.id}')">
                            üëÅÔ∏è Voir exemple
                        </button>
                        <button class="btn-select">
                            üöÄ S√©lectionner
                        </button>
                    </div>
                `;
                
                grid.appendChild(moduleCard);
            });
        }

        // G√©n√©rer le pricing dynamiquement
        function generatePricingGrid(isAnnual = false) {
            const grid = document.getElementById('pricingGrid');
            grid.innerHTML = '';
            
            // Essai gratuit toujours en premier
            const freeCard = document.createElement('div');
            freeCard.className = 'pricing-card';
            freeCard.style.borderColor = '#28a745';
            freeCard.style.background = 'linear-gradient(135deg, #d4edda, #c3e6cb)';
            freeCard.innerHTML = `
                <h4 style="color: #28a745; margin-bottom: 15px;">üéÅ ESSAI GRATUIT</h4>
                <div class="price-container">
                    <div class="price" style="font-size: 1.8rem;">Ce que vous voyez</div>
                    <div class="price-unit">Aper√ßu complet</div>
                </div>
                <ul class="feature-list" style="font-size: 0.9rem; margin: 20px 0;">
                    <li>‚úÖ Aper√ßu du r√©sultat</li>
                    <li>‚úÖ Structure compl√®te</li>
                    <li>‚úÖ D√©monstration IA</li>
                    <li style="color: #dc3545;">‚ùå Export PDF</li>
                    <li style="color: #dc3545;">‚ùå Contacts masqu√©s</li>
                </ul>
                <p style="font-size: 0.8rem; color: #666; margin: 15px 0;">
                    Parfait pour tester sans engagement
                </p>
            `;
            grid.appendChild(freeCard);
            
            // Cartes de pricing principales
            Object.entries(pricingPlans).forEach(([key, plan]) => {
                const card = document.createElement('div');
                card.className = 'pricing-card';
                
                if (plan.popular) {
                    card.classList.add('popular');
                }
                
                if (key.includes('equipe')) {
                    card.classList.add('team');
                }
                
                const currentPrice = isAnnual && plan.annualPrice ? plan.annualPrice : plan.price;
                const originalPrice = plan.price;
                
                card.innerHTML = `
                    <h4 style="margin-bottom: 15px;">${plan.name}</h4>
                    <div class="price-container">
                        <div class="price ${isAnnual && plan.annualPrice ? 'price-annual' : ''}">${currentPrice}‚Ç¨</div>
                        <div class="price-unit">${plan.unit}</div>
                        ${isAnnual && plan.annualPrice ? `
                            <div class="price-save">√âconomie ${originalPrice - currentPrice}‚Ç¨/mois</div>
                        ` : ''}
                    </div>
                    <ul class="feature-list" style="font-size: 0.9rem; margin: 20px 0;">
                        ${plan.features.map(feature => `<li>‚úÖ ${feature}</li>`).join('')}
                    </ul>
                    <button class="btn btn-primary" style="width: 100%; margin-top: 15px;" onclick="selectPlan('${key}', ${currentPrice})">
                        ${key === 'moduleUnique' ? 'üíé Acheter maintenant' : 'üöÄ Commencer'}
                    </button>
                `;
                
                grid.appendChild(card);
            });
        }

        // Toggle pricing annuel
        function toggleAnnualPricing() {
            const isAnnual = document.getElementById('annualToggle').checked;
            generatePricingGrid(isAnnual);
        }

        // S√©lectionner un plan
        function selectPlan(planKey, price) {
            const plan = pricingPlans[planKey];
            showNotification(`Plan s√©lectionn√© : ${plan.name} - ${price}‚Ç¨`);
            
            if (planKey === 'moduleUnique') {
                purchaseModule();
            } else {
                subscribeAll();
            }
        }
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            appState.currentPage = pageId;
            
            // Mise √† jour de la progress bar
            updateProgressTracker(pageId);
            
            // Affichage conditionnel du bouton dashboard
            if (appState.user.hasAccount || appState.userProject.completedModules.length > 0) {
                document.getElementById('dashboardBtn').style.display = 'block';
            }
        }

        // Mise √† jour du tracker de progression
        function updateProgressTracker(pageId) {
            const steps = {
                'home': 1,
                'onboarding': 1,
                'moduleSelection': 2,
                'projectInput': 3,
                'result': 4,
                'dashboard': 5
            };
            
            const currentStep = steps[pageId] || 1;
            
            for (let i = 2; i <= 5; i++) {
                const stepElement = document.getElementById(`step${i}`);
                stepElement.className = 'progress-icon';
                
                if (i < currentStep) {
                    stepElement.classList.add('completed');
                    stepElement.textContent = '‚úì';
                } else if (i === currentStep) {
                    stepElement.classList.add('current');
                    stepElement.textContent = i.toString();
                } else {
                    stepElement.classList.add('pending');
                    stepElement.textContent = i.toString();
                }
            }
        }

        // D√©marrer l'essai gratuit
        function startFreeTrial() {
            showNotification("üéÅ Parfait ! Choisissez votre module d'essai gratuit");
            showModuleSelection();
        }

        // Afficher l'onboarding
        function showOnboarding() {
            showPage('onboarding');
        }

        // Afficher la s√©lection de modules
        function showModuleSelection() {
            showPage('moduleSelection');
        }

        // S√©lectionner un module
        function selectModule(moduleId, icon, challenge, description) {
            appState.selectedModule = {
                id: moduleId,
                icon: icon,
                challenge: challenge,
                description: description
            };
            
            // Mise √† jour de l'interface
            document.getElementById('selectedModuleTitle').innerHTML = `${icon} ${description}`;
            document.getElementById('loadingModuleName').textContent = description;
            document.getElementById('resultModuleName').textContent = description;
            
            // Marquer comme s√©lectionn√© visuellement
            document.querySelectorAll('.module-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
            
            showNotification(`Module s√©lectionn√© : ${description}`);
            
            // Transition vers saisie du projet
            setTimeout(() => {
                showProjectInput();
            }, 1000);
        }

        // Afficher la page de saisie du projet
        function showProjectInput() {
            showPage('projectInput');
            document.getElementById('projectDescription').focus();
        }

        // Utiliser le template
        function useTemplate() {
            const template = `Type d'√©v√©nement : S√©minaire commercial
Nombre de participants : 80 personnes
Lieu souhait√© : Lyon
Budget approximatif : 25 000‚Ç¨
Objectifs sp√©cifiques : Formation √©quipe commerciale + team building sur 2 jours`;
            
            document.getElementById('projectDescription').value = template;
            showNotification("Template charg√© ! Vous pouvez le modifier selon vos besoins");
        }

        // Focus sur le textarea
        function focusTextarea() {
            document.getElementById('projectDescription').focus();
        }

        // Gestion de l'upload de fichier
        function handleFileUpload() {
            const fileInput = document.getElementById('fileUpload');
            const file = fileInput.files[0];
            if (file) {
                document.getElementById('fileName').textContent = `üìé ${file.name}`;
                appState.userProject.document = file;
                showNotification("Document ajout√© ! Cela enrichira l'analyse IA");
            }
        }

        // G√©n√©rer le r√©sultat
        async function generateResult() {
            const description = document.getElementById('projectDescription').value;
            if (!description.trim()) {
                showNotification("‚ö†Ô∏è Veuillez d√©crire votre √©v√©nement pour continuer", "warning");
                return;
            }
            
            appState.userProject.description = description;
            showPage('result');
            
            // Appel API r√©el au backend EventAI Pro
            try {
                const result = await API.generateContent(appState.selectedModule.id, description);
                
                document.getElementById('loadingSection').style.display = 'none';
                document.getElementById('resultSection').style.display = 'block';
                
                if (result.success) {
                    // Afficher le contenu g√©n√©r√© par l'IA
                    document.getElementById('resultContent').innerHTML = `
                        <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                            <p><strong>ü§ñ Agent :</strong> ${result.metadata.agent}</p>
                            <p><strong>‚ö° Mod√®le :</strong> ${result.metadata.model}</p>
                            <p><strong>‚è±Ô∏è Temps de traitement :</strong> ${result.metadata.processingTime}</p>
                            <p><strong>üéØ Tokens utilis√©s :</strong> ${result.metadata.tokens}</p>
                        </div>
                        <div style="background: #f9f9f9; padding: 20px; border-radius: 10px; margin: 15px 0;">
                            ${result.content}
                        </div>
                    `;
                } else {
                    document.getElementById('resultContent').innerHTML = `
                        <div style="background: #ffe6e6; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #f44336;">
                            <p><strong>‚ùå Erreur :</strong> ${result.content}</p>
                        </div>
                    `;
                }
                
                // Afficher l'email gate par d√©faut
                document.getElementById('emailGate').style.display = 'block';
                document.getElementById('pricingSection').style.display = 'none';
                
            } catch (error) {
                document.getElementById('loadingSection').style.display = 'none';
                document.getElementById('resultSection').style.display = 'block';
                document.getElementById('resultContent').innerHTML = `
                    <div style="background: #ffe6e6; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #f44336;">
                        <p><strong>‚ùå Erreur de connexion :</strong> ${error.message}</p>
                    </div>
                `;
            }
        }

        // G√©n√©rer le contenu sp√©cifique au module
        function generateModuleContent() {
            const moduleId = appState.selectedModule.id;
            const resultContainer = document.getElementById('resultContent');
            
            const examples = {
                'cahier_des_charges': `
                    <h4>üìã Cahier des charges - S√©minaire commercial Lyon</h4>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                        <p><strong>üìä Benchmark automatique :</strong> Votre budget estim√© vs 500 √©v√©nements similaires : <span style="color: #4CAF50; font-weight: bold;">15% sous la moyenne</span></p>
                    </div>
                    <p><strong>üéØ Objectifs :</strong> Formation √©quipe commerciale + team building</p>
                    <p><strong>üë• Participants :</strong> 80 personnes (commercial + management)</p>
                    <p><strong>üìç Lieu recommand√© :</strong> Centre de congr√®s Lyon Part-Dieu <em>(S√©lectionn√© parmi 14,000 lieux r√©f√©renc√©s)</em></p>
                    <p><strong>‚è∞ Dur√©e optimale :</strong> 2 jours avec soir√©e networking</p>
                    <p><strong>üí∞ Budget estim√© :</strong> 22 000‚Ç¨ - 28 000‚Ç¨</p>
                    <p><strong>üìã Planning d√©taill√© :</strong></p>
                    <p>- Jour 1 : Accueil + formations (9h-18h)</p>
                    <p>- Soir√©e : Networking restaurant privatis√©</p>
                    <p>- Jour 2 : Ateliers pratiques + conclusion</p>
                    <p><strong>üéØ Livrables :</strong> Supports formation, guide participant...</p>
                `,
                'recherche_lieux': `
                    <h4>üè¢ Lieux recommand√©s - Lyon</h4>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                        <p><strong>üìä Analyse de 127 lieux</strong> dans votre zone avec <strong>tarifs temps r√©el</strong></p>
                    </div>
                    <p><strong>1. Centre de Congr√®s Lyon</strong> - Capacit√© 100 pers - 1 200‚Ç¨/jour <em>(Disponible)</em></p>
                    <p>üìç Part-Dieu ‚Ä¢ üÖøÔ∏è Parking ‚Ä¢ üöä M√©tro ‚Ä¢ ‚òï Restauration</p>
                    <p><strong>2. H√¥tel Villa Florentine</strong> - Capacit√© 80 pers - 1 800‚Ç¨/jour <em>(2 cr√©neaux libres)</em></p>
                    <p>üìç Vieux Lyon ‚Ä¢ üè® H√©bergement ‚Ä¢ üçΩÔ∏è Restaurant gastronomique</p>
                    <p><strong>3. Espace T√™te d'Or</strong> - Capacit√© 120 pers - 900‚Ç¨/jour <em>(Tr√®s disponible)</em></p>
                    <p>üìç Parc T√™te d'Or ‚Ä¢ üå≥ Cadre nature ‚Ä¢ üí∞ √âconomique</p>
                    <div style="background: #fff3cd; padding: 10px; border-radius: 8px; margin: 10px 0;">
                        <p><strong>üí° Recommandation IA :</strong> Centre de Congr√®s pour votre profil (score 94/100)</p>
                    </div>
                `,
                'recherche_animations': `
                    <h4>üé≠ Animations recommand√©es</h4>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                        <p><strong>üìä S√©lection parmi 340 prestataires</strong> v√©rifi√©s avec scoring IA</p>
                    </div>
                    <p><strong>üèÜ Team building culinaire</strong> - 2h - 45‚Ç¨/pers <em>(Score: 96/100)</em></p>
                    <p>üë®‚Äçüç≥ Chef professionnel ‚Ä¢ üë• √âquipes de 8 ‚Ä¢ üçΩÔ∏è D√©gustation incluse</p>
                    <p><strong>üéØ Escape game d'entreprise</strong> - 1h30 - 35‚Ç¨/pers <em>(Score: 89/100)</em></p>
                    <p>üß© D√©fi collaboration ‚Ä¢ üì± Application d√©di√©e ‚Ä¢ üèÜ Classement √©quipes</p>
                    <p><strong>üé§ Conf√©rencier motivation</strong> - 1h - 2 500‚Ç¨ <em>(Score: 92/100)</em></p>
                    <p>üåü Expert reconnu ‚Ä¢ üíº Th√®me commercial ‚Ä¢ üìà ROI d√©montr√©</p>
                    <div style="background: #fff3cd; padding: 10px; border-radius: 8px; margin: 10px 0;">
                        <p><strong>üí° Package recommand√© :</strong> Culinaire + Conf√©rencier = 6 100‚Ç¨</p>
                    </div>
                `,
                'reduction_carbone': `
                    <h4>üå± Plan RSE - √âv√©nement √©co-responsable</h4>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                        <p><strong>üìä Benchmark :</strong> 40% moins d'impact que la moyenne sectorielle</p>
                    </div>
                    <p><strong>üìä Empreinte carbone estim√©e :</strong> 2,3 tonnes CO2</p>
                    <p><strong>üöÖ Transport :</strong> Privil√©gier train vs avion (-60% CO2)</p>
                    <p><strong>üçΩÔ∏è Restauration :</strong> Menu local, bio, moins de viande (-40% impact)</p>
                    <p><strong>‚ôªÔ∏è D√©chets :</strong> Z√©ro plastique, tri s√©lectif, compost</p>
                    <p><strong>üè® H√©bergement :</strong> H√¥tels certifi√©s Green Key</p>
                    <p><strong>üìÑ Supports :</strong> 100% num√©rique, QR codes</p>
                    <p><strong>üéØ Objectif :</strong> -70% d'impact vs √©v√©nement traditionnel</p>
                `,
                'mesure_roi': `
                    <h4>üìä Mesure du ROI - Indicateurs cl√©s</h4>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                        <p><strong>üìä Benchmark :</strong> ROI sup√©rieur de 89% vs √©v√©nements similaires</p>
                    </div>
                    <p><strong>üí∞ Investissement total :</strong> 25 000‚Ç¨</p>
                    <p><strong>üìà ROI attendu :</strong> 340% sur 12 mois</p>
                    <p><strong>üéØ M√©triques de performance :</strong></p>
                    <p>- Satisfaction participants : >8/10 (enqu√™te post-√©v√©nement)</p>
                    <p>- Augmentation CA commercial : +15% (6 mois post-formation)</p>
                    <p>- Coh√©sion √©quipe : +25% (barom√®tre interne)</p>
                    <p>- R√©duction turnover : -30% (12 mois)</p>
                    <p><strong>üí° Valeur g√©n√©r√©e estim√©e :</strong> 85 000‚Ç¨ sur 1 an</p>
                `,
                'gestion_risques': `
                    <h4>‚ö†Ô∏è Gestion des risques - Plan de contingence</h4>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                        <p><strong>üìä Analyse :</strong> 23 risques identifi√©s vs 12 en moyenne</p>
                    </div>
                    <p><strong>üåßÔ∏è M√©t√©o :</strong> Solution indoor de secours r√©serv√©e</p>
                    <p><strong>üöõ Transport :</strong> Prestataire backup + contacts urgence</p>
                    <p><strong>üè• Sanitaire :</strong> Protocole Covid, trousse premiers secours</p>
                    <p><strong>‚ö° Technique :</strong> √âquipements redondants, technicien sur site</p>
                    <p><strong>üçΩÔ∏è Restauration :</strong> Menu alternatif allergies, quantit√©s +10%</p>
                    <p><strong>üìû Contacts urgence :</strong> Liste diffus√©e √† toute l'√©quipe</p>
                    <p><strong>üí∞ Assurance :</strong> Couverture 50k‚Ç¨ annulation/report</p>
                `,
                'optimisation_budget': `
                    <h4>üí∞ Optimisation budget - 25 000‚Ç¨</h4>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                        <p><strong>üìä Benchmark vs 500 √©v√©nements :</strong> √âconomie de 2 800‚Ç¨ identifi√©e</p>
                    </div>
                    <p><strong>üè¢ Lieu :</strong> 1 200‚Ç¨ √ó 2 jours = 2 400‚Ç¨ (10%)</p>
                    <p><strong>üçΩÔ∏è Restauration :</strong> 85‚Ç¨ √ó 80 pers = 6 800‚Ç¨ (27%)</p>
                    <p><strong>üé≠ Animation :</strong> Team building + conf√©rencier = 6 100‚Ç¨ (24%)</p>
                    <p><strong>üè® H√©bergement :</strong> 120‚Ç¨ √ó 40 chambres = 4 800‚Ç¨ (19%)</p>
                    <p><strong>üöó Transport :</strong> Bus privatis√© = 1 500‚Ç¨ (6%)</p>
                    <p><strong>üìã Supports :</strong> Badges, documents = 800‚Ç¨ (3%)</p>
                    <p><strong>üí° √âconomies possibles :</strong> -2 800‚Ç¨ avec nos recommandations</p>
                `,
                'creation_concept': `
                    <h4>üí° Concepts cr√©atifs personnalis√©s</h4>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                        <p><strong>üìä G√©n√©r√©s via analyse :</strong> Profil √©quipe + objectifs + secteur</p>
                    </div>
                    <p><strong>üéØ Concept 1 : "Mission Objectif 2025"</strong></p>
                    <p>üöÄ Th√®me spatial ‚Ä¢ üéÆ Challenges gamifi√©s ‚Ä¢ üèÜ R√©compenses mission</p>
                    <p><strong>üé™ Concept 2 : "Sales Academy"</strong></p>
                    <p>üéì Formation premium ‚Ä¢ üìú Dipl√¥mes personnalis√©s ‚Ä¢ üë• Promotion √©quipe</p>
                    <p><strong>üåü Concept 3 : "Performance Summit"</strong></p>
                    <p>‚õ∞Ô∏è D√©fi montagne ‚Ä¢ üí™ D√©passement de soi ‚Ä¢ ü§ù Esprit √©quipe</p>
                    <div style="background: #fff3cd; padding: 10px; border-radius: 8px; margin: 10px 0;">
                        <p><strong>üí° Recommand√© :</strong> "Mission Objectif 2025" pour votre √©quipe (score 97/100)</p>
                    </div>
                `,
                'charte_graphique': `
                    <h4>üé® Charte graphique √©v√©nementielle</h4>
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                        <p><strong>üìä Adapt√©e √† votre secteur :</strong> Codes visuels tech/commercial optimis√©s</p>
                    </div>
                    <p><strong>üé® Palette couleurs :</strong> Bleu corporate #2196F3 + Orange √©nergie #FF9800</p>
                    <p><strong>‚úçÔ∏è Typographie :</strong> Montserrat (moderne) + Source Sans Pro</p>
                    <p><strong>üìê Logo √©v√©nement :</strong> "Mission Objectif 2025" avec fus√©e stylis√©e</p>
                    <p><strong>üìã Supports inclus :</strong></p>
                    <p>- Badges participants et intervenants</p>
                    <p>- Signal√©tique salles et espaces</p>
                    <p>- Templates pr√©sentation PowerPoint</p>
                    <p>- Kak√©monos et roll-up (format print)</p>
                    <p><strong>üíæ Livrables :</strong> Pack complet vectoriel + guidelines</p>
                `
            };
            
            resultContainer.innerHTML = examples[moduleId] || examples['cahier_des_charges'];
        }

        // Variables pour exit intent
        let exitIntentShown = false;
        let mouseLeftViewport = false;
        let socialProofInterval;
        let socialProofActive = true;

        // Base de donn√©es pour social proof
        const socialProofData = [
            {
                name: "Sarah",
                location: "Paris",
                action: "vient de g√©n√©rer son cahier des charges",
                time: "Il y a 2 minutes"
            },
            {
                name: "Marc",
                location: "Lyon",
                action: "a √©conomis√© 2 800‚Ç¨ sur son budget √©v√©nement",
                time: "Il y a 5 minutes"
            },
            {
                name: "Julie",
                location: "Marseille", 
                action: "a trouv√© le lieu parfait en 12 minutes",
                time: "Il y a 3 minutes"
            },
            {
                name: "Thomas",
                location: "Lille",
                action: "vient de s'abonner au pack 6 modules",
                time: "Il y a 8 minutes"
            },
            {
                name: "Emma",
                location: "Toulouse",
                action: "a g√©n√©r√© son plan RSE en 90 secondes",
                time: "Il y a 6 minutes"
            },
            {
                name: "Lucas",
                location: "Nantes",
                action: "vient de t√©l√©charger son rapport PDF",
                time: "Il y a 4 minutes"
            },
            {
                name: "L√©a",
                location: "Strasbourg",
                action: "a optimis√© son budget de 15k‚Ç¨ √† 12,2k‚Ç¨",
                time: "Il y a 7 minutes"
            },
            {
                name: "Pierre",
                location: "Bordeaux",
                action: "vient de trouver 8 animations adapt√©es",
                time: "Il y a 3 minutes"
            },
            {
                name: "Clara",
                location: "Nice",
                action: "a calcul√© son ROI √† 340% en 2 clics",
                time: "Il y a 9 minutes"
            },
            {
                name: "Antoine",
                location: "Rennes",
                action: "vient de cr√©er sa charte graphique",
                time: "Il y a 5 minutes"
            },
            {
                name: "Camille",
                location: "Montpellier",
                action: "a identifi√© 23 risques pour son √©v√©nement",
                time: "Il y a 6 minutes"
            },
            {
                name: "Maxime",
                location: "Reims",
                action: "vient de s'inscrire √† l'essai gratuit",
                time: "Il y a 1 minute"
            }
        ];

        // Fonction pour afficher une notification social proof
        function showSocialProof() {
            if (!socialProofActive) return;
            
            const notification = document.getElementById('socialProofNotification');
            const randomData = socialProofData[Math.floor(Math.random() * socialProofData.length)];
            
            // Mettre √† jour le contenu
            document.getElementById('notificationAvatar').textContent = randomData.name.charAt(0);
            document.getElementById('notificationName').textContent = randomData.name;
            document.getElementById('notificationLocation').textContent = randomData.location;
            document.getElementById('notificationAction').innerHTML = 
                `<span class="social-proof-indicator"></span>${randomData.action}`;
            document.getElementById('notificationTime').textContent = randomData.time;
            
            // Afficher la notification
            notification.classList.add('show');
            
            // Cacher automatiquement apr√®s 6 secondes
            setTimeout(() => {
                notification.classList.remove('show');
            }, 6000);
            
            // Tracking
            trackEvent('social_proof_shown', { 
                name: randomData.name, 
                action: randomData.action 
            });
        }

        // Fonction pour fermer manuellement la notification
        function closeSocialProof() {
            document.getElementById('socialProofNotification').classList.remove('show');
            trackEvent('social_proof_closed_manually');
        }

        // Fonction pour d√©marrer le cycle de notifications
        function startSocialProofCycle() {
            // Premi√®re notification apr√®s 8 secondes
            setTimeout(() => {
                showSocialProof();
            }, 8000);
            
            // Puis toutes les 12-18 secondes
            socialProofInterval = setInterval(() => {
                const randomDelay = 12000 + Math.random() * 6000; // 12-18 secondes
                setTimeout(() => {
                    showSocialProof();
                }, randomDelay);
            }, 15000); // Base de 15 secondes + variation
        }

        // Fonction pour arr√™ter les notifications (par exemple si utilisateur converti)
        function stopSocialProof() {
            socialProofActive = false;
            if (socialProofInterval) {
                clearInterval(socialProofInterval);
            }
            document.getElementById('socialProofNotification').classList.remove('show');
        }

        // Calculateur ROI
        function updateCalculator() {
            const events = document.getElementById('eventsSlider').value;
            const timePerEvent = document.getElementById('timeSlider').value;
            
            // Mise √† jour des affichages
            document.getElementById('eventsValue').textContent = `${events} √©v√©nement${events > 1 ? 's' : ''}`;
            document.getElementById('timeValue').textContent = `${timePerEvent} heures`;
            
            // Calculs
            const totalTimeManual = events * timePerEvent;
            const totalTimeStudio = events * 0.5; // 30 minutes par √©v√©nement
            const timeSaved = totalTimeManual - totalTimeStudio;
            
            // Co√ªt du temps (100‚Ç¨/heure pour un event manager)
            const costPerHour = 100;
            const costSaved = timeSaved * costPerHour;
            
            // √âconomies budget (moyenne 5% d'√©conomie par √©v√©nement sur un budget moyen de 15k‚Ç¨)
            const avgBudgetPerEvent = 15000;
            const budgetSaved = events * avgBudgetPerEvent * 0.05;
            
            const totalSavings = costSaved + budgetSaved;
            
            // Mise √† jour de l'affichage
            document.getElementById('timeSaved').textContent = `${Math.round(timeSaved)}h`;
            document.getElementById('costSaved').textContent = `${Math.round(costSaved).toLocaleString()}‚Ç¨`;
            document.getElementById('budgetSaved').textContent = `${Math.round(budgetSaved).toLocaleString()}‚Ç¨`;
            document.getElementById('savingsTotal').textContent = `${Math.round(totalSavings).toLocaleString()}‚Ç¨`;
        }

        // Exit Intent Detection
        function initExitIntent() {
            document.addEventListener('mouseleave', function(e) {
                if (e.clientY <= 0 && !exitIntentShown) {
                    mouseLeftViewport = true;
                    setTimeout(() => {
                        if (mouseLeftViewport && !exitIntentShown) {
                            showExitPopup();
                        }
                    }, 1000);
                }
            });
            
            document.addEventListener('mouseenter', function() {
                mouseLeftViewport = false;
            });
            
            // D√©clencher aussi apr√®s 45 secondes sur mobile
            setTimeout(() => {
                if (!exitIntentShown && window.innerWidth <= 768) {
                    showExitPopup();
                }
            }, 45000);
        }

        function showExitPopup() {
            if (exitIntentShown || appState.user.hasAccount) return;
            
            exitIntentShown = true;
            document.getElementById('exitPopup').classList.add('show');
            
            // Tracking
            trackEvent('exit_intent_shown');
        }

        function closeExitPopup() {
            document.getElementById('exitPopup').classList.remove('show');
            trackEvent('exit_popup_closed');
        }

        function submitExitEmail(event) {
            event.preventDefault();
            const email = document.getElementById('exitEmail').value;
            
            if (!validateEmail(email)) {
                showNotification("‚ö†Ô∏è Veuillez saisir un email valide", "warning");
                return false;
            }
            
            // Stocker l'email
            appState.user.email = email;
            appState.user.exitEmailCaptured = true;
            
            // Fermer la popup
            closeExitPopup();
            
            // Notification succ√®s
            showNotification("üéâ Guide envoy√© ! V√©rifiez votre email + 30% de r√©duction activ√©e");
            
            // Simuler l'envoi du guide
            setTimeout(() => {
                // En production : d√©clencher l'envoi de l'email avec le guide
                console.log("Guide sent to:", email);
            }, 1000);
            
            // Tracking
            trackEvent('exit_email_captured', { email: email });
            
            return false;
        }

        // Fonction pour soumettre l'email et d√©bloquer le contenu
        function submitEmail(event) {
            event.preventDefault();
            const email = document.getElementById('userEmail').value;
            
            if (!validateEmail(email)) {
                showNotification("‚ö†Ô∏è Veuillez saisir un email valide", "warning");
                return false;
            }
            
            // Stocker l'email
            appState.user.email = email;
            appState.user.hasAccount = true;
            
            // Arr√™ter les notifications social proof (utilisateur converti)
            stopSocialProof();
            
            // Cacher l'email gate
            document.getElementById('emailGate').style.display = 'none';
            
            // Afficher le pricing
            showPricing();
            
            showNotification("‚úÖ Email enregistr√© ! Voici vos options pour le rapport complet");
            
            // Tracking
            trackEvent('email_captured', { email: email });
            
            return false;
        }
        
        // Fonction pour contacter les experts
        function contactExpert() {
            // Simuler l'ouverture d'un formulaire de contact
            showNotification("üìû Redirection vers notre formulaire de contact...");
            
            // En production : ouvrir un calendly, formulaire, ou modal
            setTimeout(() => {
                const contactUrl = "mailto:experts@studioevent.com?subject=Demande d'√©tude gratuite&body=Bonjour, je souhaiterais une √©tude personnalis√©e pour mon projet √©v√©nementiel.";
                window.open(contactUrl, '_blank');
            }, 1000);
            
            trackEvent('expert_contact_requested');
        }

        // Afficher les options de pricing
        function showPricing() {
            document.getElementById('pricingSection').style.display = 'block';
            document.getElementById('pricingSection').scrollIntoView({ behavior: 'smooth' });
        }

        // Acheter un module unique
        function purchaseModule() {
            showNotification("üéâ Module d√©bloqu√© ! Acc√®s complet disponible");
            // Simuler l'achat
            appState.userProject.completedModules.push(appState.selectedModule.id);
            appState.user.hasAccount = true;
            
            // Rediriger vers dashboard apr√®s achat
            setTimeout(() => {
                showPage('dashboard');
                document.getElementById('dashboardBtn').style.display = 'block';
            }, 2000);
        }

        // S'abonner √† tous les modules
        function subscribeAll() {
            showNotification("üöÄ Abonnement activ√© ! Acc√®s √† tous les modules");
            appState.user.isPremium = true;
            appState.user.hasAccount = true;
            
            setTimeout(() => {
                showPage('dashboard');
                document.getElementById('dashboardBtn').style.display = 'block';
            }, 2000);
        }

        // Afficher un exemple de module
        function showExample(moduleId) {
            const module = modulesData.find(m => m.id === moduleId);
            if (!module) return;
            
            const examples = {
                'cahier_des_charges': {
                    title: "Cahier des charges",
                    content: `
                        <h4>üìã Exemple : S√©minaire commercial (R√©el client)</h4>
                        <p><strong>Contexte :</strong> Entreprise tech, 60 commerciaux, objectif +20% CA</p>
                        <div style="background: #e8f5e8; padding: 20px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                            <h5 style="color: #2e7d32; margin-bottom: 15px;">üíé Valeur ajout√©e</h5>
                            <p style="margin-bottom: 15px;">${module.valeur_ajoutee}</p>
                            <h6 style="color: #333; margin-bottom: 10px;">üéØ R√©sultat g√©n√©r√© par l'IA :</h6>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <p>‚úÖ Planning d√©taill√© sur 3 jours</p>
                                <p>‚úÖ 15 ateliers pratiques personnalis√©s</p>
                                <p>‚úÖ Budget optimis√© : 45k‚Ç¨ ‚Üí 38k‚Ç¨ (-15%)</p>
                                <p>‚úÖ 5 lieux recommand√©s avec contacts directs</p>
                                <p>‚úÖ Plan de suivi post-√©v√©nement</p>
                            </div>
                        </div>
                        <div style="background: #fff3cd; padding: 15px; border-radius: 8px; border-left: 4px solid #ffc107;">
                            <h6 style="color: #856404; margin-bottom: 10px;">üìã Livrables inclus</h6>
                            ${module.livrables.map(livrable => `<p style="margin: 5px 0;">‚Ä¢ ${livrable}</p>`).join('')}
                        </div>
                        <p style="margin-top: 15px;"><strong>üí¨ T√©moignage :</strong> "Gain de 12h de pr√©paration, √©v√©nement r√©ussi √† 100%" - Sarah, DG</p>
                    `
                },
                'recherche_lieux': {
                    title: "Recherche de lieux",
                    content: `
                        <h4>üè¢ Exemple : Recherche lieu conf√©rence Paris</h4>
                        <p><strong>Demande :</strong> 200 personnes, standing premium, proche gares</p>
                        <div style="background: #e8f5e8; padding: 20px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                            <h5 style="color: #2e7d32; margin-bottom: 15px;">üíé Valeur ajout√©e</h5>
                            <p style="margin-bottom: 15px;">${module.valeur_ajoutee}</p>
                            <h6 style="color: #333; margin-bottom: 10px;">üéØ R√©sultat g√©n√©r√© par l'IA :</h6>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <p>‚úÖ 8 lieux pr√©s√©lectionn√©s selon crit√®res</p>
                                <p>‚úÖ Comparatif d√©taill√© prix/services/localisation</p>
                                <p>‚úÖ Contacts directs responsables commerciaux</p>
                                <p>‚úÖ Disponibilit√©s temps r√©el</p>
                                <p>‚úÖ Photos HD et plans des espaces</p>
                            </div>
                        </div>
                        <p><strong>üí¨ T√©moignage :</strong> "Trouv√© le lieu parfait en 1h au lieu de 3 jours" - Marc, Event Manager</p>
                    `
                },
                'recherche_animations': {
                    title: "Recherche d'animations",
                    content: `
                        <h4>üé≠ Exemple : Team building cr√©atif</h4>
                        <p><strong>Demande :</strong> 40 personnes, coh√©sion √©quipe, budget 3k‚Ç¨</p>
                        <div style="background: #e8f5e8; padding: 20px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #4CAF50;">
                            <h5 style="color: #2e7d32; margin-bottom: 15px;">üíé Valeur ajout√©e</h5>
                            <p style="margin-bottom: 15px;">${module.valeur_ajoutee}</p>
                            <h6 style="color: #333; margin-bottom: 10px;">üéØ R√©sultat g√©n√©r√© par l'IA :</h6>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <p>‚úÖ 12 animations adapt√©es au profil √©quipe</p>
                                <p>‚úÖ Mix indoor/outdoor selon m√©t√©o</p>
                                <p>‚úÖ Prestataires v√©rifi√©s avec avis clients</p>
                                <p>‚úÖ Devis instantan√©s et r√©servation directe</p>
                                <p>‚úÖ Planning int√©gr√© √† l'√©v√©nement</p>
                            </div>
                        </div>
                        <p><strong>üí¨ T√©moignage :</strong> "Animations parfaites, √©quipe r√©concili√©e !" - Julie, RH</p>
                    `
                }
            };

            // Utiliser l'exemple correspondant ou le premier par d√©faut
            const example = examples[moduleId] || examples['cahier_des_charges'];
            document.getElementById('exampleModuleTitle').textContent = module.titre;
            document.getElementById('exampleContent').innerHTML = example.content;
            
            // Stocker le module pour action "utiliser ce module"
            appState.exampleModule = moduleId;
            
            showPage('examples');
        }

        // Utiliser le module depuis l'exemple
        function startWithThisModule() {
            const module = modulesData.find(m => m.id === appState.exampleModule);
            if (module) {
                appState.selectedModule = {
                    id: module.id,
                    icon: module.icon,
                    challenge: module.challenge,
                    titre: module.titre,
                    data: module
                };
                document.getElementById('selectedModuleTitle').innerHTML = `${module.icon} ${module.titre}`;
                showNotification(`Module ${module.titre} s√©lectionn√© !`);
                showProjectInput();
            }
        }

        // Fonctions Dashboard
        function generateFinalDocument() {
            showNotification("üìÑ Document final en cours de g√©n√©ration...");
            setTimeout(() => {
                showNotification("‚úÖ Document PDF pr√™t ! T√©l√©chargement automatique");
                // Simuler t√©l√©chargement
                const link = document.createElement('a');
                link.href = 'data:text/plain;charset=utf-8,Votre √©v√©nement Studio Evento - Document final';
                link.download = 'seminaire-commercial-lyon-final.pdf';
                link.click();
            }, 2000);
        }

        function duplicateProject() {
            showNotification("üìã Projet dupliqu√© ! Nouveau projet cr√©√©");
            // Logique de duplication
        }

        function shareProject() {
            showNotification("üë• Lien de partage copi√© dans le presse-papiers");
            // Logique de partage
        }

        function showAnalytics() {
            showNotification("üìä Analytics disponibles dans la version premium");
            // Redirection vers analytics
        }

        function openModule(moduleId) {
            // Mapping des modules vers les IDs internes
            const moduleMapping = {
                'cahier-charges': 'cahier_des_charges',
                'lieu': 'recherche_lieux',
                'budget': 'optimisation_budget',
                'animation': 'recherche_animations',
                'rse': 'reduction_carbone',
                'communication': 'charte_graphique',
                'risques': 'gestion_risques',
                'concept': 'creation_concept',
                'roi': 'mesure_roi'
            };
            
            const internalModuleId = moduleMapping[moduleId] || moduleId;
            const module = modulesData.find(m => m.id === internalModuleId);
            
            if (module) {
                // S√©lectionner le module et retourner √† l'interface de chat
                appState.selectedModule = module;
                showNotification(`üí¨ Reprise de la conversation avec l'agent ${module.titre}`);
                
                // Afficher l'interface de saisie pour continuer la conversation
                showProjectInput();
                
                // Pr√©-remplir avec un message de continuation
                const textarea = document.querySelector('#projectInput textarea');
                if (textarea) {
                    textarea.placeholder = `Continuez votre conversation avec l'agent ${module.titre}...
Exemple: "Peux-tu me proposer des alternatives ?" ou "J'aimerais modifier quelque chose"`;
                    textarea.focus();
                }
            } else {
                showNotification(`Module ${moduleId} non trouv√©`);
            }
        }

        function showModuleRecommendations() {
            showNotification("üí° Modules recommand√©s bas√©s sur votre projet");
            // Afficher recommandations d√©taill√©es
        }

        function addModule(moduleId) {
            showNotification(`Module ${moduleId} ajout√© pour 9‚Ç¨`);
            // Logique d'ajout de module
        }

        function upgradeToAll() {
            showNotification("üöÄ Upgrade vers pack 3 modules !");
            appState.user.isPremium = true;
            // Logique d'upgrade
        }

        // Syst√®me de notifications
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            notificationText.textContent = message;
            notification.style.background = type === 'success' ? '#28a745' : '#ffc107';
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Sauvegarde automatique (localStorage)
        function saveAppState() {
            localStorage.setItem('studioEventoState', JSON.stringify(appState));
        }

        function loadAppState() {
            const saved = localStorage.getItem('studioEventoState');
            if (saved) {
                appState = { ...appState, ...JSON.parse(saved) };
                
                // Restaurer l'√©tat de l'interface
                if (appState.user.hasAccount) {
                    document.getElementById('dashboardBtn').style.display = 'block';
                }
            }
        }

        // Gestion des raccourcis clavier
        document.addEventListener('keydown', function(e) {
            // Escape pour retourner √† l'accueil
            if (e.key === 'Escape') {
                showPage('home');
            }
            
            // Ctrl+Enter pour valider le formulaire
            if (e.ctrlKey && e.key === 'Enter') {
                if (appState.currentPage === 'projectInput') {
                    generateResult();
                }
            }
        });

        // Gestion responsive du progress tracker
        function handleResize() {
            const progressTracker = document.getElementById('progressTracker');
            if (window.innerWidth <= 1200) {
                progressTracker.style.display = 'none';
            } else {
                progressTracker.style.display = 'block';
            }
        }

        // Analytics et tracking (version simplifi√©e)
        function trackEvent(eventName, eventData = {}) {
            console.log(`üîç Analytics: ${eventName}`, eventData);
            // Ici vous pourrez int√©grer Google Analytics, Mixpanel, etc.
        }

        // Gestion des erreurs
        window.addEventListener('error', function(e) {
            console.error('Erreur application:', e);
            showNotification("‚ö†Ô∏è Une erreur est survenue. Veuillez r√©essayer.", "warning");
        });

        // Initialisation de l'application
        document.addEventListener('DOMContentLoaded', function() {
            loadAppState();
            handleResize();
            
            // G√©n√©rer les modules et pricing
            generateModulesGrid();
            generatePricingGrid();
            
            // Initialiser le calculateur ROI
            updateCalculator();
            
            // Initialiser l'exit intent
            initExitIntent();
            
            // Tracking page vue initiale
            trackEvent('app_loaded', { page: 'home' });
            
            // Auto-save p√©riodique
            setInterval(saveAppState, 30000); // Sauvegarde toutes les 30s
            
            // Gestion du redimensionnement
            window.addEventListener('resize', handleResize);
            
            // Animation d'entr√©e
            setTimeout(() => {
                document.querySelector('.page.active').classList.add('fade-in');
            }, 100);
            
            console.log('üé¨ Studio Evento MVP initialis√© avec Calculator ROI + Exit Intent');
            console.log('üìä √âtat application:', appState);
        });

        // Fonctions utilitaires
        function formatPrice(price) {
            return new Intl.NumberFormat('fr-FR', {
                style: 'currency',
                currency: 'EUR'
            }).format(price);
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // API connect√©e au backend EventAI Pro
        const API = {
            baseUrl: 'https://3000-io9i7r393su10cvtry7n9-33c34f43.manusvm.computer',
            userId: 'test-user-123',
            
            async generateContent(moduleId, description, document = null) {
                try {
                    // Mapping des modules vers les agents
                    const moduleAgentMap = {
                        'cahier_des_charges': 'BRIEF_GENERATOR',
                        'recherche_lieux': 'VENUE', 
                        'creation_concept': 'STORYTELLING',
                        'reduction_carbone': 'RSE',
                        'recherche_animations': 'ANIMATION_SPECIALIST',
                        'charte_graphique': 'COMMUNICATION_STRATEGIST',
                        'mesure_roi': 'ANALYTICS_SPECIALIST',
                        'gestion_risques': 'LOGISTICS_COORDINATOR',
                        'optimisation_budget': 'ANALYTICS_SPECIALIST'
                    };
                    
                    const agent = moduleAgentMap[moduleId] || 'ORCHESTRATOR';
                    
                    // R√©cup√©rer l'ID de conversation existant pour ce module
                    const conversationKey = `conversation_${moduleId}`;
                    const existingConversationId = appState.conversations?.[conversationKey] || null;
                    
                    const requestBody = {
                        message: description,
                        userId: this.userId,
                        context: {
                            module: moduleId,
                            agent: agent
                        }
                    };
                    
                    // Ajouter l'ID de conversation si elle existe
                    if (existingConversationId) {
                        requestBody.conversationId = existingConversationId;
                    }
                    
                    const response = await fetch(`${this.baseUrl}/api/chat`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(requestBody)
                    });
                    
                    if (!response.ok) {
                        throw new Error(`Erreur API: ${response.status}`);
                    }
                    
                    const data = await response.json();
                    
                    if (data.success) {
                        // Sauvegarder l'ID de conversation pour ce module
                        if (!appState.conversations) {
                            appState.conversations = {};
                        }
                        if (data.data.conversationId) {
                            appState.conversations[conversationKey] = data.data.conversationId;
                            saveAppState();
                        }
                        
                        return {
                            success: true,
                            content: data.data.response.content,
                            metadata: {
                                processingTime: `${data.data.metadata.latency}ms`,
                                confidence: 0.95,
                                agent: data.data.response.agentType,
                                model: data.data.response.model,
                                tokens: data.data.metadata.tokens
                            }
                        };
                    } else {
                        throw new Error(data.error);
                    }
                } catch (error) {
                    console.error('Erreur API:', error);
                    return {
                        success: false,
                        content: `Erreur: ${error.message}`,
                        metadata: { processingTime: '0ms', confidence: 0 }
                    };
                }
            },
            
            async processPayment(amount, method) {
                // Simulation de paiement (inchang√©)
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve({
                            success: true,
                            transactionId: 'TXN_' + Date.now(),
                            amount: amount
                        });
                    }, 1500);
                });
            },
            
            async saveProject(projectData) {
                try {
                    const response = await fetch(`${this.baseUrl}/api/projects`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            title: projectData.title || 'Projet Studio Evento',
                            description: projectData.description,
                            userId: this.userId,
                            eventType: projectData.moduleId
                        })
                    });
                    
                    if (!response.ok) {
                        throw new Error(`Erreur API: ${response.status}`);
                    }
                    
                    const data = await response.json();
                    
                    return {
                        success: data.success,
                        projectId: data.data?.id || 'PRJ_' + Date.now()
                    };
                } catch (error) {
                    console.error('Erreur sauvegarde:', error);
                    return {
                        success: false,
                        projectId: null
                    };
                }
            }
        };

        // Export pour tests (optionnel)
        if (typeof module !== 'undefined' && module.exports) {
            module.exports = { appState, showPage, selectModule, generateResult };
        }

        // Fonctions d'authentification
        window.signOut = function() {
            if (window.firebase && window.firebase.auth()) {
                window.firebase.auth().signOut().then(() => {
                    console.log('Utilisateur d√©connect√©');
                }).catch((error) => {
                    console.error('Erreur lors de la d√©connexion:', error);
                });
            }
        };

        window.toggleUserMenu = function() {
            const menu = document.getElementById('userMenu');
            if (menu) {
                menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
            }
        };

        window.startFreeTrial = function() {
            if (isUserAuthenticated()) {
                showPage('modules');
            } else {
                showAuthModal(function() {
                    showPage('modules');
                });
            }
        };
    </script>

    <!-- Firebase Auth -->
    <script src="firebase-auth.js"></script>
</body>
</html>